<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey Questions</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

    <div class="container">
        <h1>Survey Questions</h1>
        <hr>
        <h2><strong>About You</strong></h3>
            <h4>Name (Required)</h4>
            <input type="text" id="name" class="form-control" placeholder="Lyndon B. Johnson" required>

            <h4>Link to Photo Image (Required)</h4>
            <input type="text" id="photo" class="form-control" placeholder="https://goo.gl/4wB7i6" required>
            <hr>
            <h2>Question 1</h2>
            <h4>You're in a desert, walking along in the sand, when all of a sudden you look down and see a tortoise.
                The tortoise
                lays on its back, its belly baking in the hot sun, beating its legs trying to turn itself over, but it
                can't. Not without your help. You flip the turtle.</h4>
            <form>
                <div class="form-group">
                    <label for="question1">Do you</label>
                    <select class="chosen-select" id="question1">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <hr>
            <h2>Question 2</h2>
            <h4>It is your birthday, and a close friend gives you a calfskin wallet as a present. This is an
                appropriate gift.</h4>
            <form>
                <div class="form-group">
                    <label for="question2">Do you:</label>
                    <select class="chosen-select" id="question2">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 3</h2>
            <h4>A child shows you his butterfly collection, including the killing jar that he suffocates collected
                specimens inside. You do not find this disturbing.</h4>
            <form>
                <div class="form-group">
                    <label for="question3">Do you:</label>
                    <select class="chosen-select" id="question3">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 4</h2>
            <h4>You are watching television and notice a wasp crawling on your arm. The most appropriate reaction is to
                swat and kill it.</h4>
            <form>
                <div class="form-group">
                    <label for="question4">Do you:</label>
                    <select class="chosen-select" id="question4">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 5</h2>
            <h4>It is your birthday, and a close friend gives you a calfskin wallet as a present. This is an
                appropriate gift.</h4>
            <form>
                <div class="form-group">
                    <label for="question5">Do you:</label>
                    <select class="chosen-select" id="question5">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 6</h2>
            <h4>While reading a magazine you find a full page nude of a model. You show your spouse who likes it so
                much they hang it on your bedroom wall.</h4>
            <form>
                <div class="form-group">
                    <label for="question6">Do you:</label>
                    <select class="chosen-select" id="question6">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 7</h2>
            <h4>You are watching a play wherein the actors participate in a banquet. You see that the guests are eating
                raw oysters and boiled dog stuffed with rice. The oysters are not as appetizing to you as the dog.</h4>
            <form>
                <div class="form-group">
                    <label for="question7">Do you:</label>
                    <select class="chosen-select" id="question7">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 8</h2>
            <h4>Online questionnaires are a good way to assess personality compatiblilty.</h4>
            <form>
                <div class="form-group">
                    <label for="question8">Do you:</label>
                    <select class="chosen-select" id="question8">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 9</h2>
            <h4>One is the loneliest number that you ever knew.</h4>
            <form>
                <div class="form-group">
                    <label for="question9">Do you:</label>
                    <select class="chosen-select" id="question9">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <h2>Question 10</h2>
            <h4>You did well on this questionnaire.</h4>
            <form>
                <div class="form-group">
                    <label for="question10">Do you:</label>
                    <select class="chosen-select" id="question10">
                        <option>1 (Strongly disagree)</option>
                        <option>2</option>
                        <option>3 (Neither agree or disagree)</option>
                        <option>4</option>
                        <option>5 (Strongly agree)</option>
                    </select>
                </div>
            </form>
            <button type="submit" class="btn btn-info" value="Submit Button" data-toggle="modal" data-target="#results-modal">Submit
                Answers</button>
    </div>
    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Your answers will suffice.</h4>
                </div>
                <div class="modal-body">
                    <p>Your answers have been assessed and an appropriate match found:</p>
                    <h3 id="match-name"></h3>
                    <img id="match-img" src="#">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <footer>
		<div class="container">
			<a href="/api/friends">Other friend candidates</a>
			<span>|</span>
			<a href="https://github.com/gudolph/FriendFinder">GitHub Repo</a>
		</div>
	</footer>
    <script type="text/javascript">
        $("#submit").on("click", function (event) {
            event.preventDefault();
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                $(".chosen-select").each(function () {

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }
            if (validateForm()) {
                var newFriend = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val().trim(),
                    totals: [
                        $("#question1").val(),
                        $("#question2").val(),
                        $("#question3").val(),
                        $("#question4").val(),
                        $("#question5").val(),
                        $("#question6").val(),
                        $("#question7").val(),
                        $("#question8").val(),
                        $("#question9").val(),
                        $("#question10").val()
                    ]
                }
                var url = window.location.origin;
                // AJAX post the data to the friends API.
                $.post("/api/friends", newFriend, function (data) {

                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);

                    // Show the modal with the best match
                    $("#results-modal").modal("toggle");
                });
            } else {
                alert("Please fill out all fields before submitting!");
            }
        });
    </script>

</body>

</html>